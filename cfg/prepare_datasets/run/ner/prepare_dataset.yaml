# @package _global_
defaults:
  - /args/data_args: "???"

args:
  analyzer_args:
    analyzer_output_dir: ${oc.env:TORCH_FUSION_OUTPUT_DIR}/analyzer/
    tasks:
      prepare_dataset:
        task_type: PrepareDataset
        task_config: 
          visualize: ${visualize}
  data_args:
    num_proc: 1
    dataset_config_name: ${dataset_config_name}
    train_preprocess_augs: null
    eval_preprocess_augs: null
    train_realtime_augs:
      - name: BasicImageAug
        kwargs:
          gray_to_rgb: True
          normalize: False # defaults to imagenet mean/std
          rescale_strategy:
            name: Rescale
            kwargs:
              size:
                - ${realtime_image_size_x}
                - ${realtime_image_size_y}
          key:
            - image
    eval_realtime_augs:
      - name: BasicImageAug
        kwargs:
          gray_to_rgb: True
          normalize: False # defaults to imagenet mean/std
          rescale_strategy:
            name: Rescale
            kwargs:
              size:
                - ${realtime_image_size_x}
                - ${realtime_image_size_y}
          key:
            - image
    dataset_kwargs:
      tokenizer_config: 
        name: HuggingfaceTokenizer
        kwargs: 
          model_name: microsoft/layoutlmv3-base
          init_kwargs:
            local_files_only: False
            add_prefix_space: True
            do_lower_case: True
          call_kwargs:
            add_special_tokens: True
            padding: "max_length"
            truncation: True
            max_length: 512
            stride: 128
            pad_to_multiple_of: 8
          # post processing padding args
          padding_required: True
          padding_side: right

dataset_config_name: default
realtime_image_size_x: 1024
realtime_image_size_y: 1024
visualize: true