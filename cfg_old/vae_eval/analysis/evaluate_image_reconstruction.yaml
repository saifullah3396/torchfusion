# @package _global_
defaults:
  - /args/model_args: "???"
  - /args/data_args: "???"
  - override /args/data_args/train_preprocess_augs: null
  - override /args/data_args/eval_preprocess_augs: null
  - override /args/data_args/train_realtime_augs: basic
  - override /args/data_args/eval_realtime_augs: basic

args:
  training_args:
    with_amp_inference: ${with_amp_inference}
    metric_args:
      - name: fid
        kwargs:
          fid_stats: ${args.data_args.dataset_dir}/fid_stats/train-${args.data_args.dataset_statistics_n_samples}-stats.pth
  data_args:
    dataset_config_name: ${dataset_config_name}
    cache_file_name: no_preprocess
    data_loader_args:
      dataloader_num_workers: 0
      per_device_train_batch_size: 4
      per_device_eval_batch_size: 4
      max_train_samples: ${args.data_args.dataset_statistics_n_samples}
      max_test_samples: ${args.data_args.dataset_statistics_n_samples}
      max_val_samples: ${args.data_args.dataset_statistics_n_samples}
  analyzer_args:
    analyzer_output_dir: ${oc.env:TORCH_FUSION_OUTPUT_DIR}/analyzer/
    model_checkpoints: null
    tasks:
      vae-eval:
        task_type: EvaluateImageReconstruction
        task_config:
          data_split: train
  model_args:
    model_config:
      model_constructor_args:
        checkpoint: ${checkpoint}
        checkpoint_state_dict_key: ${checkpoint_state_dict_key}
        checkpoint_filtered_keys:
          - vae.

image_size_x: 256
image_size_y: 256
dataset_config_name: default
with_amp_inference: False
checkpoint: null
checkpoint_state_dict_key: state_dict